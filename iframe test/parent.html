<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parent Window</title>
</head>
<body>

    <h2>Main Window</h2>
    <iframe id="twoFrame" src="iframe.html" width="820" height="620"></iframe>

    <button onclick="changeCircleColor()">Change Circle Color</button>

    <script>
        const iframe = document.getElementById('twoFrame');

        // Listen for the iframe to be ready
        window.addEventListener('message', (event) => {
            if (event.data.type === 'ready') {
                console.log("Two.js is ready in the iframe!");
            }
        });

        // Function to change the circle's color from the parent window
        function changeCircleColor() {
            const iframeWindow = iframe.contentWindow;
            if (iframeWindow.getCircle) {
                const circle = iframeWindow.getCircle();
                circle.fill = '#0080FF'; // Change color to blue
                iframeWindow.getTwoInstance().update(); // Update the canvas
            }
        }

        changeCircleColor();
    </script>

</body>
</html>
